<!DOCTYPE html>
<!--
# Wobbly's SFWCHAT.
# I'm no legal expert, so I'll tell this to you in a very simple manner.
# Don't copy this stuff. Am I going to do anything about it? No.
# Just please don't, I worked hard on this as I'm sure you're working
# hard on reading this, because if you thought that you could just copy this
# and I'd be fine with it you aren't only wrong, but you are also stupid.
# Partially.
- Current Official URL: wobbly.repl.co/sfwchat/
- Current Status: Unreleased
-->
<html>
  <head>
    <title>settings</title>
    <meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<link rel="stylesheet" href="main.css" />
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-3858453173804119",
        enable_page_level_ads: true
      });
    </script>
  </head>
  <body onload="check()">
    <header id="header">
      <a class="logo" href="homepage.html">sfwchat</a>
      <nav>
					<a href="privacy.html">Privacy</a>
					<a href="about.html">About</a>
					<a href="contact.html">Contact</a>
					<a href="homepage.html">Home</a>
					<a href="signout.html">Sign Out</a>
				</nav>
    </header>
    <div id="heading" >
			<h1>sfwchat</h1>
		</div>
		<section id="main" class="wrapping">
		  <div class="inner">
		    <div class="content">
		      <div class="row">
		        <div>
		          <h3>wobbly's sfwchat / codeychat</h3>
		          <p>
		            Welcome to the new, <b>experimental</b> homepage of
		            sfwchat / codeychat! Here are a few things you should know
		            about the new layout.
		          </p>
		           <div class="row">
								<div class="col-6 col-12-small">
								  <ul>
								    <li><b>Enter can now be used!</b> Previously you had to press "submit plox" in order to submit your messages. With the new, updated version of the site the <b>enter</b> key works reliably!</li>
								    <li><b>Still the same!</b> The only real difference is cosmetic - it should look a lot more professional now.</li>
								    <li><b>You can revert to the old layout!</b> Don't like the new one? Just press "old layout" up in the top.</li>
								  </ul>
								  <h3>configuring settings: tutorial</h3>
								  <ul>
								    <li>Most settings can either be <b>true</b> or <b>false</b>. It's case sensitive, so be sure not to mess up...</li>
								    <li>Some of the settings have string inputs, formatted like this: <b>SettingName:(string input)</b> - these
								    use exactly what you input - inputting something that isn't a string, etc, isn't advised.</li>
								  </ul>
								  <textarea id="settingsbox">FilterMessages:true;</textarea> <br>
								  <ul class="actions">
										<li><a onclick="submitSettings()" class="button primary">Submit</a></li>
										<li><a onclick="goBackHome()" class="button">Go Back</a></li>
									</ul>
								</div>
								<p>
								  Settings! Yay settings! How interesting!
								</p>
							</div>
		        </div>
		      </div>
		    </div>
		  </div>
		</section>
	<script src="firebase.js"></script>
	<script>
	  var config={apiKey:"AIzaSyAHhBe4eMBZ_M39UWMW30b5zzJ1slVs0jw",authDomain:"codeychat-20d66.firebaseapp.com",databaseURL:"https://codeychat-20d66.firebaseio.com",projectId:"codeychat-20d66",storageBucket:"codeychat-20d66.appspot.com",messagingSenderId:"531033258195"};firebase.initializeApp(config);
	  var sha256=function r(o){function f(r,o){return r>>>o|r<<32-o}for(var t,n,a=Math.pow,c=a(2,32),e="length",i="",h=[],u=8*o[e],v=r.h=r.h||[],l=r.k=r.k||[],s=l[e],g={},k=2;s<64;k++)if(!g[k]){for(t=0;t<313;t+=k)g[t]=k;v[s]=a(k,.5)*c|0,l[s++]=a(k,1/3)*c|0}for(o+="Â€";o[e]%64-56;)o+="\0";for(t=0;t<o[e];t++){if((n=o.charCodeAt(t))>>8)return;h[t>>2]|=n<<(3-t)%4*8}for(h[h[e]]=u/c|0,h[h[e]]=u,n=0;n<h[e];){var d=h.slice(n,n+=16),p=v;for(v=v.slice(0,8),t=0;t<64;t++){var w=d[t-15],A=d[t-2],C=v[0],M=v[4],S=v[7]+(f(M,6)^f(M,11)^f(M,25))+(M&v[5]^~M&v[6])+l[t]+(d[t]=t<16?d[t]:d[t-16]+(f(w,7)^f(w,18)^w>>>3)+d[t-7]+(f(A,17)^f(A,19)^A>>>10)|0);(v=[S+((f(C,2)^f(C,13)^f(C,22))+(C&v[1]^C&v[2]^v[1]&v[2]))|0].concat(v))[4]=v[4]+S|0}for(t=0;t<8;t++)v[t]=v[t]+p[t]|0}for(t=0;t<8;t++)for(n=3;n+1;n--){var b=v[t]>>8*n&255;i+=(b<16?0:"")+b.toString(16)}return i};
	  var status = 0;
	  function submitSettings() {
	    var pointer = 0;
	    var modal = 0;
	    var output = "";
	    var filter = true, currentId = "";
	    var boxvalue = document.getElementById("settingsbox").value.replace("true", "t");
	      boxvalue = boxvalue.replace("false", "f");
	      boxvalue = boxvalue.replace("FilterMessages", "F");
	      boxvalue = boxvalue.replace("CurrentId", "c");
	    while (pointer != boxvalue.length) {
	      var newVar = boxvalue.charAt(pointer);
	      switch (newVar) {
	        case 'F':
	          modal = 1;
	          break;
	        case 'C':
	          modal = 2;
	          break;
	        case 't':
	          if (modal == 1) {
	            filter = true;
	          } else if (modal == 2) {
	            output = "Type Error: Cannot use type TRUE for STRING INPUT.";
	          }
	          break;
	        case 'f':
	          if (modal == 1) {
	            filter = false;
	          } else if (modal == 2) {
	            output = "Type Error: Cannot use type FALSE for STRING INPUT.";
	          }
	          break;
	        case '(':
	          while (newVar.charAt(pointer) != ')') {
	            currentId = currentId + newVar.charAt(pointer);
	            pointer++;
	          }
	          break;
	      }
	      pointer++;
	    }
	    document.getElementById("settingsbox").value = output;
	  }
	  function goBackHome() {
	    window.location.href = "newlayout.html";
	  }
	  function check() {
	    document.getElementById("settingsbox").value = "FilterMessages:true;"
	    setTimeout ( function() {
	      let location = firebase.database().ref('/users/c/uidToEmail/' + firebase.auth().currentUser.uid + '/email');
	      location.once('value', (snapshot) => {
	        if (sha256(firebase.auth().currentUser.email.replace('.',',')) == sha256("wobblyyyy@gmail,com") || sha256(firebase.auth().currentUser.email.replace('.',',')) == sha256("tejasmehta2003@gmail,com")) {
	          status = 1;
	          document.getElementById("settingsbox").value = document.getElementById("settingsbox").value + "CurrentId:();"
	        } else {

	        }
	      });
	    }, 1000);
	    /*
	    let location = firebase.database().ref('/users/' + firebase.auth().currentUser.uid + '/email');
	    location.once('value', (snapshot) => {
	      if (sha256() == sha256(snapshot.val())) {

	      } else {

	      }
	    }); */
	  }
	  /*
function dump() {
  var message = "message";
  var yat = 0;
  let hsRs = firebase.database().ref('/chat/publicDump/count');
    hsRs.once('value', (snapshot) => {
      var current = snapshot.val();
      yat = snapshot.val();
      current = current.toString();
      console.log(snapshot.val());
      message = message + current;
      var reader = 20;
      yat = yat - 19;
      while (reader > 0) {
      console.log("yat");
      let newListen = firebase.database().ref('/chat/publicDump/dumpedMessages/' + 'message' + yat);
      console.log("message" + yat);
      newListen.once('value', (snapshot) => {
        console.log(snapshot.val());
        log = log + snapshot.val() + "\n";
        r();
    });
    yat++;
    reader--;
  }
  });
  document.getElementById("msgs").scrollTop = document.getElementById("msgs").scrollHeight;
} */
	</script>
  </body>
</html>
